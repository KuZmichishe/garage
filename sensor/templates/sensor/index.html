{% extends 'hardware/base.html' %}
{% load staticfiles %}
{% block sensors_active %}active{% endblock %}
{% block title %}Sensors list{% endblock %}
{% block javascript %}
    <script src="{% static 'sensor/js/d3.min.js' %}?h=1"></script>
    <script src="{% static 'sensor/js/sensor.js' %}?h=1"></script>
    <script type="text/javascript"> </script>
{% endblock %}
{% block body %}
<td class="films-container container-fluid">
    <td class="row">
        <div class="col-sm-12">
            <h3>Temperature</h3>
        </div>
        {% if sensors %}
            {% for sensor in sensors %}
                <div class="col-sm-4"><h4>{{ sensor.name }}</h4>{{ sensor.result }}</div>
                {% if sensor.history_items %}
                    <table class="table table-striped table-hover">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Temperature</th>
                                <th scope="col">Humidity</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for history_item in sensor.history_items %}
                                <tr>
                                    <td>{{ history_item.requested_date }}</td>
                                    <td>{{ history_item.humidity }}</td>
                                    <td>{{ history_item.temperature }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% endif %}
                {% cycle '' '' '' '' '' '<div class="clearfix visible-lg"></div>' %}
            {% endfor %}
        {% else %}
            <div class="col-sm-12">
                <br>
            </div>
        {% endif %}
    </div>

</div>
{% endblock %}
